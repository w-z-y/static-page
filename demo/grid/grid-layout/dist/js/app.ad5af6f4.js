(function(){"use strict";var t={47:function(t,e,n){var r=n(6848),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"container"},[e("div",{staticClass:"left"},[e("h1",[t._v("页面配置")]),e("el-form",{attrs:{model:t.pageConfig,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"paddingX"}},[e("el-input-number",{model:{value:t.pageConfig.paddingX,callback:function(e){t.$set(t.pageConfig,"paddingX",e)},expression:"pageConfig.paddingX"}})],1),e("el-form-item",{attrs:{label:"paddingY"}},[e("el-input-number",{model:{value:t.pageConfig.paddingY,callback:function(e){t.$set(t.pageConfig,"paddingY",e)},expression:"pageConfig.paddingY"}})],1)],1),e("h1",[t._v("节点")]),e("el-form",{attrs:{model:t.formData,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"节点最大数量"}},[e("el-input-number",{model:{value:t.formData.maxNum,callback:function(e){t.$set(t.formData,"maxNum",e)},expression:"formData.maxNum"}})],1),e("el-form-item",{attrs:{label:"width"}},[e("el-input-number",{model:{value:t.formData.w,callback:function(e){t.$set(t.formData,"w",e)},expression:"formData.w"}})],1),e("el-form-item",{attrs:{label:"height"}},[e("el-input-number",{model:{value:t.formData.h,callback:function(e){t.$set(t.formData,"h",e)},expression:"formData.h"}})],1),e("el-form-item",{attrs:{label:"标题"}},[e("el-input",{model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})],1),e("el-form-item",{attrs:{label:"内容"}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.formData.content,callback:function(e){t.$set(t.formData,"content",e)},expression:"formData.content"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.handleAddNode}},[t._v("添加节点")]),e("el-button",{attrs:{type:"success"},on:{click:t.printPDF}},[t._v("打印PDF")])],1)],1)],1),e("div",{staticClass:"right"},[t._v(" A3 "),e("div",{ref:"a3Paper",staticClass:"a3-paper",style:{padding:`${t.pageConfig.paddingX}px ${t.pageConfig.paddingY}px`}},[e("MyGridLayout",{ref:"myGridLayoutRef",staticStyle:{flex:"1"},attrs:{"col-num":24},on:{"item-click":t.handleItemClick},scopedSlots:t._u([{key:"default",fn:function({data:n}){return[e("el-form",{attrs:{mode:n,"label-width":"60px"}},[e("el-form-item",{attrs:{label:"标题"}},[e("el-input",{attrs:{placeholder:"请输入标题"},model:{value:n.title,callback:function(e){t.$set(n,"title",e)},expression:"data.title"}})],1),e("el-form-item",{attrs:{label:"内容"}},[e("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:n.content,callback:function(e){t.$set(n,"content",e)},expression:"data.content"}})],1)],1)]}}]),model:{value:t.layout,callback:function(e){t.layout=e},expression:"layout"}})],1)])])])},o=[],i=function(){var t=this,e=t._self._c;return e("grid-layout",{staticClass:"grid-layout",style:{background:`radial-gradient(circle at ${t.margin[0]/2}px ${t.margin[1]/2}px, #333 0px, transparent 1px)`,"background-size":`${t.rowHeight+t.margin[0]+.5}px ${t.rowHeight+t.margin[1]}px`},attrs:{"use-css-transforms":!1,"prevent-collision":"",margin:t.margin,layout:t.layout,"col-num":t.colNum,"row-height":t.rowHeight,"max-rows":t.rowNum,"is-draggable":"","is-bounded":"","is-resizable":"","vertical-compact":!1,"auto-size":!1}},t._l(t.layout,(function(n){return e("grid-item",{key:n.i,class:["grid-item",{highlight:-1==n.i}],attrs:{"is-bounded":"",x:n.x,y:n.y,w:n.w,h:n.h,i:n.i,"drag-allow-from":".vue-draggable-handle"},nativeOn:{click:function(e){return t.handleClick(n)}}},[e("i",{staticClass:"move-icon vue-draggable-handle el-icon-rank"}),e("i",{staticClass:"delete-icon el-icon-delete",on:{click:function(e){return e.stopPropagation(),t.removeItem(n.i)}}}),t._t("default",null,{data:n.data})],2)})),1)},l=[],u=(n(8111),n(2489),n(7588),n(3579),n(9008)),c={name:"MyGridLayout",model:{prop:"layout",event:"change"},props:{layout:{type:Array,defualt:()=>[]},colNum:{type:Number,default:24}},components:{"grid-layout":u.GridLayout,"grid-item":u.GridItem},data(){return{rowHeight:0,rowNum:1/0,margin:[10,10]}},methods:{addItem(t={}){const{w:e=1,h:n=1}=t,r=s(this.layout,this.rowNum,this.colNum),a=f(r,this.rowNum,this.colNum,{w:e,h:n});if(a){const{x:e,y:n,w:r,h:o}=a;return this.$emit("change",[...this.layout,{x:e,y:n,w:t.w||r,h:t.h||o,i:this.layout.length,data:t}]),!0}{const e=d(r,this.rowNum,this.colNum);if(e){const{x:n,y:r,w:a,h:o}=e;return this.$emit("change",[...this.layout,{x:n,y:r,w:a,h:o,i:this.layout.length,data:t}]),!0}return this.$message.warning("无法找到合适的空白位置"),!1}},handleClick(t){this.$emit("item-click",t)},removeItem(t){this.$emit("change",this.layout.filter((e=>e.i!==t)))}},mounted(){this.rowHeight=Math.floor(document.querySelector(".grid-layout").clientWidth/this.colNum)-this.margin[0],this.rowNum=Math.floor(document.querySelector(".grid-layout").clientHeight/(this.rowHeight+this.margin[1]))}};function s(t,e,n){const r=Array.from({length:e},(()=>Array(n).fill(!1)));return t.forEach((({x:t,y:a,w:o,h:i})=>{for(let l=a;l<a+i;l++)for(let a=t;a<t+o;a++)l<e&&a<n&&(r[l][a]=!0)})),r}function f(t,e,n,r){for(let a=0;a<=n-r.w;a++)for(let n=0;n<e-r.h;n++){let e=!0,o=0;while(o<r.h&&e){let i=0;while(i<r.w){if(t[n+o]&&t[n+o][a+i]){e=!1;break}i++}o++}if(e)return{x:a,y:n,w:r.w,h:r.h}}return null}function d(t,e,n){for(let r=0;r<n;r++)for(let a=0;a<e;a++)if(!t[a][r]){let o=0,i=0;while(r+o<n&&!t[a][r+o])o++;while(a+i<e&&!t[a+i].slice(r,r+o).some((t=>t)))i++;return{x:r,y:a,w:o,h:i}}return null}var m=c,p=n(1656),h=(0,p.A)(m,i,l,!1,null,"722d38e8",null),g=h.exports,y=n(2328),b=n.n(y),v={name:"App",components:{MyGridLayout:g},data(){return{pageConfig:{paddingX:94,paddingY:75},formData:{maxNum:12,w:12,h:4,title:"这是一个标题",content:"这是一段文字内容..."},layout:[{x:0,y:0,w:12,h:4,i:"0",data:{}}]}},methods:{handleAddNode(){this.layout.length<this.formData.maxNum?this.$refs.myGridLayoutRef.addItem({...this.formData}):this.$message.warning("已超出最大创建数量! 无法继续创建")},handleItemClick(t){console.log(t)},printPDF(){const t=this.$refs.a3Paper,e={margin:0,filename:"grid-layout.pdf",image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"mm",format:"a3",orientation:"landscape"}};b()().from(t).set(e).save()}}},w=v,x=(0,p.A)(w,a,o,!1,null,null,null),k=x.exports,C=n(9143),N=n.n(C);r["default"].config.productionTip=!1,r["default"].use(N()),new r["default"]({render:t=>t(k)}).$mount("#app")}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,r,a,o){if(!r){var i=1/0;for(s=0;s<t.length;s++){r=t[s][0],a=t[s][1],o=t[s][2];for(var l=!0,u=0;u<r.length;u++)(!1&o||i>=o)&&Object.keys(n.O).every((function(t){return n.O[t](r[u])}))?r.splice(u--,1):(l=!1,o<i&&(i=o));if(l){t.splice(s--,1);var c=a();void 0!==c&&(e=c)}}return e}o=o||0;for(var s=t.length;s>0&&t[s-1][2]>o;s--)t[s]=t[s-1];t[s]=[r,a,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var i={};t=t||[null,e({}),e([]),e(e)];for(var l=2&a&&r;"object"==typeof l&&!~t.indexOf(l);l=e(l))Object.getOwnPropertyNames(l).forEach((function(t){i[t]=function(){return r[t]}}));return i["default"]=function(){return r},n.d(o,i),o}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,r){return n.f[r](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+t+"."+{353:"8ca6b0b5",427:"90aa9b20"}[t]+".js"}}(),function(){n.miniCssF=function(t){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="grid-layout:";n.l=function(r,a,o,i){if(t[r])t[r].push(a);else{var l,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),s=0;s<c.length;s++){var f=c[s];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==e+o){l=f;break}}l||(u=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.setAttribute("data-webpack",e+o),l.src=r),t[r]=[a];var d=function(e,n){l.onerror=l.onload=null,clearTimeout(m);var a=t[r];if(delete t[r],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach((function(t){return t(n)})),e)return e(n)},m=setTimeout(d.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=d.bind(null,l.onerror),l.onload=d.bind(null,l.onload),u&&document.head.appendChild(l)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){n.p=""}(),function(){var t={524:0};n.f.j=function(e,r){var a=n.o(t,e)?t[e]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise((function(n,r){a=t[e]=[n,r]}));r.push(a[2]=o);var i=n.p+n.u(e),l=new Error,u=function(r){if(n.o(t,e)&&(a=t[e],0!==a&&(t[e]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,a[1](l)}};n.l(i,u,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,o,i=r[0],l=r[1],u=r[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(u)var s=u(n)}for(e&&e(r);c<i.length;c++)o=i[c],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(s)},r=self["webpackChunkgrid_layout"]=self["webpackChunkgrid_layout"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(47)}));r=n.O(r)})();
//# sourceMappingURL=app.ad5af6f4.js.map